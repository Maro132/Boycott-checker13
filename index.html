<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Boycott checker</title>
    <style>
        /* Ø§Ù„Ø®Ø· Ø§Ù„Ø¹Ø±Ø¨ÙŠ (Ø§Ø®ØªÙŠØ§Ø±ÙŠ) */
        @import url('https://fonts.googleapis.com/css2?family=Cairo:wght@400;700&display=swap');

        body { 
            font-family: 'Cairo', sans-serif; /* Ø§Ø³ØªØ®Ø¯Ø§Ù… Ø®Ø· Ø¹Ø±Ø¨ÙŠ Ø¬Ù…ÙŠÙ„ */
            padding: 20px; 
            background: #1a1a1a; 
            color: white; 
            display: flex;
            justify-content: center;
            align-items: center;
            min-height: 100vh;
            margin: 0;
        }
        .container {
            width: 100%;
            max-width: 400px;
            text-align: center;
        }
        h2 { margin-bottom: 25px; color: #fff; }
        
        /* Ù…Ø±Ø¨Ø¹ Ø§Ù„Ø¥Ø¯Ø®Ø§Ù„ */
        input { 
            width: 100%; 
            padding: 16px; 
            margin-bottom: 15px; 
            border-radius: 12px; 
            border: 2px solid #333; 
            font-size: 16px;
            font-family: 'Cairo', sans-serif;
            background: #2a2a2a;
            color: white;
            box-sizing: border-box;
            outline: none;
            text-align: right; /* Ø§Ù„ÙƒØªØ§Ø¨Ø© Ù…Ù† Ø§Ù„ÙŠÙ…ÙŠÙ† */
        }
        input:focus { border-color: #4facfe; }

        /* Ø§Ù„Ø²Ø± */
        button { 
            width: 100%; 
            padding: 16px; 
            background: linear-gradient(to left, #4facfe 0%, #00f2fe 100%);
            color: #fff; 
            border: none; 
            font-size: 18px; 
            font-weight: bold; 
            font-family: 'Cairo', sans-serif;
            border-radius: 12px;
            cursor: pointer; 
            box-shadow: 0 4px 15px rgba(79, 172, 254, 0.4);
        }
        button:active { transform: scale(0.96); }

        /* Ù…Ù†Ø·Ù‚Ø© Ø§Ù„Ù†ØªÙŠØ¬Ø© */
        .box { 
            background: #2a2a2a; 
            padding: 25px; 
            border-radius: 16px; 
            margin-top: 25px; 
            display: none; 
            text-align: right;
            box-shadow: 0 10px 30px rgba(0,0,0,0.3);
            border: 1px solid #333;
        }
        
        .safe { border-right: 6px solid #00c853; }
        .boycott { border-right: 6px solid #ff3d00; }
        
        .status-title { font-size: 1.4em; display: block; margin-bottom: 10px; font-weight: 800; }
        .reason { display: block; line-height: 1.6; color: #e0e0e0; font-size: 0.95em; }
        .alt { 
            display: block; 
            margin-top: 15px; 
            padding-top: 15px; 
            border-top: 1px solid #444; 
            color: #4facfe; 
            font-weight: bold; 
            font-size: 0.9em;
        }
        .loading { color: #888; font-style: italic; }
    </style>
</head>
<body>

<div class="container">
    <h2>Ù…Ù‚Ø§Ø·Ø¹Ù‡ ØŸ</h2>
    
    <input type="text" id="brandInput" placeholder="Ø§ÙƒØªØ¨ Ø§Ø³Ù… Ø§Ù„Ù…Ù†ØªØ¬ Ø£Ùˆ Ø§Ù„Ø´Ø±ÙƒØ© Ù‡Ù†Ø§...">
    <button onclick="runCheck()">Ø§ÙØ­Øµ Ø§Ù„Ù…Ù†ØªØ¬</button>

    <div id="resultBox" class="box">
        <div id="statusText"></div>
    </div>
</div>

<script>
    // ==========================================
    // ğŸ‘‡ Ø¶Ø¹ Ù…ÙØªØ§Ø­ API Key Ù‡Ù†Ø§ ğŸ‘‡
    // ==========================================
    const API_KEY = "AIzaSyAUxr6x4UNUIrFVnII4tZ3cIwzXbUfygmg"; 
    // ==========================================

    async function runCheck() {
        const brand = document.getElementById('brandInput').value.trim();
        const box = document.getElementById('resultBox');
        const text = document.getElementById('statusText');

        if (!brand) return;

        // 1. Ø¹Ø±Ø¶ Ø§Ù„ØªØ­Ù…ÙŠÙ„
        box.style.display = "block";
        box.className = "box"; 
        text.innerHTML = "<span class='loading'>Ø¬Ø§Ø±ÙŠ ØªØ­Ù„ÙŠÙ„ Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª Ø¨Ø§Ù„Ø°ÙƒØ§Ø¡ Ø§Ù„Ø§ØµØ·Ù†Ø§Ø¹ÙŠ...</span>";

        if (API_KEY === "PASTE_YOUR_KEY_HERE" || API_KEY.length < 10) {
            text.innerHTML = "âš ï¸ Ø®Ø·Ø£: Ù†Ø³ÙŠØª ÙˆØ¶Ø¹ Ù…ÙØªØ§Ø­ API Key ÙÙŠ Ø§Ù„ÙƒÙˆØ¯.";
            return;
        }

        try {
            // Ø§Ø³ØªØ®Ø¯Ø§Ù… Ø§Ù„Ù…ÙˆØ¯ÙŠÙ„ gemini-2.5-flash
            const url = `https://generativelanguage.googleapis.com/v1beta/models/gemini-2.5-flash:generateContent?key=${API_KEY}`;
            
            // ğŸ‘‡ Ù‡Ù†Ø§ Ø§Ù„Ø³Ø­Ø±: Ù†Ø·Ù„Ø¨ Ù…Ù† Ø§Ù„Ù…ÙˆØ¯ÙŠÙ„ Ø§Ù„Ø±Ø¯ Ø¨Ø§Ù„Ø¹Ø±Ø¨ÙŠØ© ğŸ‘‡
            const prompt = `
                Ø£Ù†Øª Ø®Ø¨ÙŠØ± ÙÙŠ Ø­Ù…Ù„Ø§Øª Ø§Ù„Ù…Ù‚Ø§Ø·Ø¹Ø© Ù„Ù„Ù…Ù†ØªØ¬Ø§Øª Ø§Ù„Ø¯Ø§Ø¹Ù…Ø© Ù„Ù„ÙƒÙŠØ§Ù† Ø§Ù„ØµÙ‡ÙŠÙˆÙ†ÙŠ.
                Ø§Ù„Ù…Ù†ØªØ¬ Ø§Ù„Ù…Ø±Ø§Ø¯ ÙØ­ØµÙ‡: "${brand}".
                
                ÙŠØ¬Ø¨ Ø£Ù† ÙŠÙƒÙˆÙ† Ø±Ø¯Ùƒ Ø¨ØµÙŠØºØ© JSON ÙÙ‚Ø· (Ø¨Ø¯ÙˆÙ† Ø£ÙŠ Ù†ØµÙˆØµ Ø£Ø®Ø±Ù‰) ÙŠØ­ØªÙˆÙŠ Ø¹Ù„Ù‰:
                {
                    "is_boycott": true Ø£Ùˆ false,
                    "reason": "Ø´Ø±Ø­ Ø§Ù„Ø³Ø¨Ø¨ ÙÙŠ Ø¬Ù…Ù„Ø© ÙˆØ§Ø­Ø¯Ø© Ø¨Ø§Ù„Ù„ØºØ© Ø§Ù„Ø¹Ø±Ø¨ÙŠØ©",
                    "alternative": "Ø§Ù‚ØªØ±Ø­ Ø¨Ø¯ÙŠÙ„Ø§Ù‹ Ù…Ø­Ù„ÙŠØ§Ù‹ (Ù…ØµØ±ÙŠ Ø£Ùˆ Ø¹Ø±Ø¨ÙŠ) Ù…Ø¹Ø±ÙˆÙ"
                }
            `;

            const response = await fetch(url, {
                method: "POST",
                headers: { "Content-Type": "application/json" },
                body: JSON.stringify({ contents: [{ parts: [{ text: prompt }] }] })
            });

            const data = await response.json();

            if (data.error) {
                text.innerHTML = "âŒ Ø®Ø·Ø£ ÙÙŠ Ø§Ù„Ø§ØªØµØ§Ù„: " + data.error.message;
                return;
            }

            let rawText = data.candidates[0].content.parts[0].text;
            rawText = rawText.replace(/```json|```/g, '').trim();
            const result = JSON.parse(rawText);

            // Ø¹Ø±Ø¶ Ø§Ù„Ù†ØªÙŠØ¬Ø© Ø¨Ø§Ù„Ø¹Ø±Ø¨ÙŠØ©
            if (result.is_boycott) {
                box.className = "box boycott"; 
                text.innerHTML = `
                    <span class="status-title" style="color:#ff3d00">âŒ Ù…Ù†ØªØ¬ Ù…Ù‚Ø§Ø·Ø¹Ø©</span>
                    <span class="reason">${result.reason}</span>
                    <span class="alt">ğŸ’¡ Ø§Ù„Ø¨Ø¯ÙŠÙ„ Ø§Ù„Ù…Ù‚ØªØ±Ø­: ${result.alternative}</span>
                `;
            } else {
                box.className = "box safe"; 
                text.innerHTML = `
                    <span class="status-title" style="color:#00c853">âœ… ØºØ§Ù„Ø¨Ø§Ù‹ Ø¢Ù…Ù†</span>
                    <span class="reason">${result.reason}</span>
                `;
            }

        } catch (err) {
            console.error(err);
            text.innerHTML = "âŒ Ø­Ø¯Ø« Ø®Ø·Ø£ Ø¨Ø±Ù…Ø¬ÙŠ: " + err.toString();
        }
    }
</script>

</body>
</html>
